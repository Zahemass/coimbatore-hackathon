// filename: cli.js
import { Command } from "commander";
import { parseInstruction } from "./parser.js";
import { askPort, askTestCases } from "./utils/promptUser.js";
import { detectPort } from "./utils/detectPort.js";
import { runApiTests, runAutoTests } from "./tester.js";
    react.on("close", (code) => {
      console.log(`⚡ GUI exited with code ${code}`);
    });
  } catch (err) {
    console.error("❌ Error starting GUI:", err.message);
    process.exit(1);
  }
  return;
}


    // ---------- NORMAL API TEST ----------
    try {
      const parsed = parseInstruction(command);
      const port = await askPort();
      const numCases = await askTestCases();
      await runApiTests(parsed, port, numCases);
    } catch (err) {
      console.error("❌ Error running tests:", err.message);
      process.exit(1);
    }
  });

program.parse(process.argv);
